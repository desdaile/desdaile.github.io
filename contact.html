<!DOCTYPE html>
<html lang = "en">

    <head>
        <link rel="stylesheet" href="css/styles.css">
        <script src="js/script.js"> </script>

        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
        
        <script type="text/javascript">
        (function() {
        emailjs.init("user_wZFSdvBcBsV3tUBmgX4Ol");
        })();
        </script>
        
        <script type="text/javascript">
            window.onload = function() {
                document.getElementById('contact-form').addEventListener('submit', function(event) {
                    if(getItValidates()){

                            event.preventDefault();
                        // generate a five digit number for the contact_number variable
                        this.contact_number.value = Math.random() * 100000 | 0;
                        // these IDs from the previous steps
                        emailjs.sendForm('contact_service', 'contact_form', this)
                            .then(function() {
                                console.log('SUCCESS!');
                            }, function(error) {
                                console.log('FAILED...', error);
                            });
                    }

                });
            }
        </script>

        <title>Contact</title>

        <div class = "topnav">
      
            <div>
                <a href="index.html">Home</a>
                <a href="aboutMe.html">About me</a>
                <a href="contact.html">Contact me</a>
                <a href="https://mattm401.github.io/">Course page</a>
                <a href="https://aidanchao.github.io/">Previous student</a>
                <a href="https://justinwhamilton.github.io/">Next student</a>
              </div>
      
          </div>

        <h1> Contact me</h1>
    </head>

    <body>
       
<!--         <form onsubmit="return false">
            <label> First name</label>
            <input type ="text" placeholder="Enter your first name" id="user_fname">
            <br><br>
            <label> Last name</label>
            <input type ="text" placeholder="Enter your last name" id="user_lname">
            <br><br>
            <label>Email</label>
            <input type ="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
            placeholder="Enter your email address" id= "user_email">
            <br><br>
            <label>Phone</label>
            <input type ="tel" placeholder="XXX-XXX-XXXX" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" id="user_phone"> 
            <br><br>
            <label>Message</label>

            <textarea id="user_message" rows = "5"></textarea>
            

        </form>
        <button onclick="sendContact();"> Send contact</button>
    -->

        <form id="contact-form" onsubmit=" return validateForm();">
            <input type="hidden" name="contact_number">
            <label>First name</label>
            <input type="text" name="user_fname" placeholder="Enter your first name">
            <label>Last name</label>
            <input type="text" name="user_lname" placeholder="Enter your last name">
            <label>Email</label>
            <input type="email" name="user_email" placeholder="Enter your email address">
            <label>Phone</label>
            <input type ="tel" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" name="user_phone" placeholder="XXX-XXX-XXXX">
            <label>Message</label>
            <textarea name="user_message" rows ="9" placeholder="Message"></textarea>
            <input type="submit" value="Send">
        </form>
        <span class= "error_label"> Errors: </span>

    
    </body>
</html>